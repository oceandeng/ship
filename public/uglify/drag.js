"use strict";var DragDropMobile=function(){function a(a){var j=a.changedTouches[0],k=a.target;switch(a.type){case"touchstart":k.className.indexOf("draggable")>-1&&(c=k,d=j.clientX-k.offsetLeft,e=j.clientY-k.offsetTop,f=k.clientWidth-d,g=k.clientHeight-e,b.fire({type:"dragstart",target:c,x:j.clientX,y:j.clientY}));break;case"touchmove":if(null!==c){var l=j.clientX-d,m=h-(j.clientX+f),n=j.clientY-e,o=i-(j.clientY+g);c.style.left=0>l?0:0>m?h-c.clientWidth+"px":l+"px",c.style.top=0>n?0:0>o?i-c.clientHeight+"px":n+"px",b.fire({type:"drag",target:c,x:j.clientX,y:j.clientY})}a.preventDefault();break;case"touchend":b.fire({type:"dragend",target:c,x:j.clientX,y:j.clientY}),c=null}}var b=new EventTarget,c=null,d=0,e=0,f=0,g=0,h=window.screen.width,i=window.screen.height;return b.enable=function(){EventUtil.addHandler(document,"touchstart",a),EventUtil.addHandler(document,"touchmove",a),EventUtil.addHandler(document,"touchend",a)},b.disable=function(){EventUtil.removeHandler(document,"touchstart",a),EventUtil.removeHandler(document,"touchmove",a),EventUtil.removeHandler(document,"touchend",a)},b},DragDropPC=function(){function a(a){a=EventUtil.getEvent(a);var f=EventUtil.getTarget(a);switch(a.type){case"mousedown":f.className.indexOf("draggable")>-1&&(c=f,d=a.clientX-f.offsetLeft,e=a.clientY-f.offsetTop,b.fire({type:"dragstart",target:c,x:a.clientX,y:a.clientY}));break;case"mousemove":null!==c&&(c.style.left=a.clientX-d+"px",c.style.top=a.clientY-e+"px",b.fire({type:"drag",target:c,x:a.clientX,y:a.clientY})),a.preventDefault();break;case"mouseup":b.fire({type:"dragend",target:c,x:a.clientX,y:a.clientY}),c=null}}var b=new EventTarget,c=null,d=0,e=0;return b.enable=function(){EventUtil.addHandler(document,"mousedown",a),EventUtil.addHandler(document,"mousemove",a),EventUtil.addHandler(document,"mouseup",a)},b.disable=function(){EventUtil.removeHandler(document,"mousedown",a),EventUtil.removeHandler(document,"mousemove",a),EventUtil.removeHandler(document,"mouseup",a)},b},DragDropPC=new DragDropPC;DragDropPC.enable();var DragDropMobile=new DragDropMobile;DragDropMobile.enable();